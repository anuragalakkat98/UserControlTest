<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="UserControlTest.TrackNew"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:UserControlTest"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    x:Name="TrackUserControl">

    <Viewbox Stretch="Fill">
        <Grid>
            <!--START: Track Berth Down-->
            <Grid Visibility="{Binding DataContext.TrackBerthDownVisibility, ElementName=TrackUserControl}">
                    <Rectangle Width="250" Height="70" Stroke="White" StrokeThickness="2" Fill="Transparent" VerticalAlignment="Top" Margin="230,50,0,0" Visibility="Collapsed"/>
                <Canvas Width="100" Height="300" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="108,120,0,0">
                    <!-- Outer rectangle -->
                    <Rectangle Width="500" Height="150" Stroke="White" StrokeThickness="2" Fill="White" Visibility="Visible"/>
                    <!-- Horizontal lines for the rows -->
                    <Grid Visibility="Visible">
                        <Line X1="0" Y1="20" X2="500" Y2="20" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="40" X2="500" Y2="40" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="110" X2="500" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="130" X2="500" Y2="130" Stroke="White" StrokeThickness="2"/>
                    </Grid>
                    <!-- 'X' in the middle -->
                    <!-- Left half of X (two lines) -->
                    <Grid Visibility="Collapsed">
                        <Line X1="215" Y1="40" X2="265" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="235" Y1="40" X2="285" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <!-- Right half of X (two lines) -->
                        <Line X1="265" Y1="40" X2="215" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="285" Y1="40" X2="235" Y2="110" Stroke="White" StrokeThickness="2"/>
                    </Grid>
                    <!-- Bottom section with arrows and rectangles -->
                    <!-- Use fixed column widths to ensure alignment -->
                    <Grid VerticalAlignment="Bottom" Margin="0,150,0,30" Height="100" Width="700" Visibility="Visible">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <!-- Left arrow width -->
                            <ColumnDefinition Width="280"/>
                            <!-- Space for two rectangles -->
                            <ColumnDefinition/>
                            <!-- Right arrow width -->
                        </Grid.ColumnDefinitions>

                        <!-- Left Arrow -->
                        <Polygon Fill="Transparent" Stroke="White" StrokeThickness="2"
         Points="60,90 0,45 60,0"
         HorizontalAlignment="Left" VerticalAlignment="Center" Visibility="Collapsed"/>

                        <StackPanel Visibility="Collapsed" Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="0 0 0 0">
                            <Rectangle Width="50" Height="30" Stroke="White" Fill="Transparent"/>
                        </StackPanel>

                        <StackPanel Visibility="Collapsed" Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" Margin = "40 2 0 0">
                            <Rectangle Width="50" Height="30" Stroke="White" Fill="Transparent" Margin ="10"/>
                        </StackPanel>

                        <!-- Right Arrow -->
                        <Polygon Fill="Transparent" Stroke="White" StrokeThickness="2"
         Points="0,0 60,45 0,90"
         Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="100 0 0 0" Visibility="Collapsed"/>
                    </Grid>
                </Canvas>
            </Grid>
            <!--END: Track Berth Down-->

            <!--START: Track Berth Up-->
            <Grid Visibility="{Binding DataContext.TrackBerthUpVisibility, ElementName=TrackUserControl}">
                <Canvas Width="500" Height="300" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="10,120,0,0">
                    <!-- Outer rectangle -->
                    <Rectangle Width="500" Height="150" Stroke="White" StrokeThickness="2" Fill="White" Visibility="Visible"/>
                    <!-- Horizontal lines for the rows -->
                    <Grid Visibility="Visible">
                        <Line X1="0" Y1="20" X2="500" Y2="20" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="40" X2="500" Y2="40" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="110" X2="500" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="130" X2="500" Y2="130" Stroke="White" StrokeThickness="2"/>
                    </Grid>
                    <!-- 'X' in the middle -->
                    <!-- Left half of X (two lines) -->
                    <Grid Visibility="Collapsed">
                        <Line X1="215" Y1="40" X2="265" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="235" Y1="40" X2="285" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <!-- Right half of X (two lines) -->
                        <Line X1="265" Y1="40" X2="215" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="285" Y1="40" X2="235" Y2="110" Stroke="White" StrokeThickness="2"/>
                    </Grid>
                    <!-- Bottom section with arrows and rectangles -->
                    <!-- Use fixed column widths to ensure alignment -->
                    <Grid VerticalAlignment="Bottom" Margin="0,150,0,30" Height="100" Width="700" Visibility="Visible">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <!-- Left arrow width -->
                            <ColumnDefinition Width="280"/>
                            <!-- Space for two rectangles -->
                            <ColumnDefinition/>
                            <!-- Right arrow width -->
                        </Grid.ColumnDefinitions>

                        <!-- Left Arrow -->
                        <Canvas Visibility="Collapsed">
                            <Polygon Fill="Transparent" Stroke="White" StrokeThickness="2"
                                     Points="60,90 0,45 60,0"
                                     HorizontalAlignment="Left" 
                                     VerticalAlignment="Center"
                                     Canvas.Top="-245"/>

                            <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="60 -215 0 0">
                                <Rectangle Width="50" Height="30" Stroke="White" Fill="Transparent"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" Margin = "380 -225 0 0">
                                <Rectangle Width="50" Height="30" Stroke="White" Fill="Transparent" Margin ="10"/>
                            </StackPanel>

                            <!-- Right Arrow -->
                            <Polygon Fill="Transparent" Stroke="White" StrokeThickness="2" Points="0,0 60,45 0,90"
                                     Grid.Column="2" 
                                     HorizontalAlignment="Left" 
                                     VerticalAlignment="Center"
                                     Canvas.Top="-245"
                                     Canvas.Left="340"
                                     Margin="100 0 0 0"/>
                        </Canvas>
                    </Grid>
                    <Rectangle Width="250" Height="70" Stroke="White" StrokeThickness="2" Fill="Transparent" VerticalAlignment="bottom" Margin="125,149,0,0" Visibility="Collapsed"/>
                </Canvas>
            </Grid>
            <!--END: Track Berth Up-->

            <!--START: Track Diamond Left-->
            <Grid Visibility="{Binding DataContext.TrackDiamondLeftVisibility, ElementName=TrackUserControl}">
                <Canvas Width="500" Height="300" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="10,120,0,0">
                    <!--Top 2 rectangles-->
                    <Canvas Visibility="Collapsed">
                        <Rectangle Margin="0 -30 0 0" Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent" Visibility="Visible"/>
                        <Rectangle Margin="0 -59 0 0" Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent" Visibility="Visible"/>
                    </Canvas>
                    <!-- Center rectangle -->
                    <Rectangle Width="500" Height="150" Stroke="White" StrokeThickness="2" Fill="White" Visibility="Visible"/>
                    <!--Top 2 rectangles-->
                    <Canvas Visibility="Collapsed">
                        <Rectangle Margin="0 148 0 0" Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent" Visibility="Visible"/>
                        <Rectangle Margin="0 175 0 0" Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent" Visibility="Visible"/>
                    </Canvas>
                </Canvas>
            </Grid>
            <!--END: Track Diamond Left-->

            <!--START: Track Diamond Right-->
            <Grid Visibility="{Binding DataContext.TrackDiamondRightVisibility, ElementName=TrackUserControl}">
                <Canvas Width="500" Height="300" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="10,120,0,0">
                    <Rectangle Margin="115,-128,0,0" Width="250" Height="70" Stroke="White" StrokeThickness="2" Fill="Transparent" VerticalAlignment="bottom" Visibility="Collapsed"/>
                    <!--Top 2 rectangles-->
                    <Canvas Visibility="Collapsed">
                        <Rectangle Margin="0 -30 0 0" Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent"/>
                        <Rectangle Margin="0 -59 0 0" Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent"/>
                    </Canvas>
                    <!-- Center rectangle -->
                    <Rectangle Width="500" Height="150" Stroke="White" StrokeThickness="2" Fill="White" Visibility="Visible"/>
                    <!--Top 2 rectangles-->
                    <Canvas Visibility="Collapsed">
                        <Rectangle Margin="0 148 0 0" Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent"/>
                        <Rectangle Margin="0 175 0 0" Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent"/>
                    </Canvas>
                </Canvas>
            </Grid>
            <!--END: Track Diamond Right-->

            <!-- START: TRACK DIAMOND CENTER DOWN -->
            <Grid Visibility="{Binding DataContext.TrackDiamondCenterDownVisibility, ElementName=TrackUserControl}">
                <Canvas Width="100" Height="500" Margin="0 0 400 0"> <!--CHANGE DONE HERE*********************************-->
                    <!-- Left angled shape -->
                    <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2" 
             Points="45,50 70,50 105,100 80,100" 
             Margin="180 70 0 0"
             Visibility="Collapsed">
                        <Polygon.RenderTransform>
                            <ScaleTransform ScaleX="0.9" ScaleY="1.4" />
                        </Polygon.RenderTransform>
                    </Polygon>

                    <!-- Left shape covering the X -->
                    <Polygon Stroke="White" Fill="White" StrokeThickness="2" 
             Points="90,50 193,50 220,100 120,100" 
             Margin="180,70,0,0">
                        <Polygon.RenderTransform>
                            <ScaleTransform ScaleX="1" ScaleY="1.4" />
                        </Polygon.RenderTransform>
                    </Polygon>

                    <!-- Bottom angled shape below -->
                    <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2" 
             Points="159,140 231,140 238,180 167,180" 
             Margin="85 160 0 0"
             Visibility="Collapsed">
                        <Polygon.RenderTransform>
                            <ScaleTransform ScaleX="1.4" ScaleY="0.5"/>
                        </Polygon.RenderTransform>
                    </Polygon>

                    <!--X shape-->
                    <Grid Visibility="Collapsed" Margin="85 100 0 0">
                        <Line X1="215" Y1="40" X2="265" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="235" Y1="40" X2="285" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <!-- Right half of X (two lines) -->
                        <Line X1="265" Y1="40" X2="215" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="285" Y1="40" X2="235" Y2="110" Stroke="White" StrokeThickness="2"/>
                    </Grid>
                </Canvas>
            </Grid>
            <!-- END: TRACK DIAMOND CENTER DOWN USER CONTROL -->

            <!-- START: TRACK DIAMOND CENTER UP -->
            <Grid Visibility="{Binding DataContext.TrackDiamondCenterUpVisibility, ElementName=TrackUserControl}">
                <Canvas Width="100" Height="400" Margin="0 0 360 0">
                    <!-- Right angled shape -->
                    <Polygon Stroke="White" Fill="Transparent" StrokeThickness="1" 
                             Points="110,50 135,50 105,100 80,100" 
                             Margin="330 70 0 0"
                             Visibility="Collapsed">
                        <Polygon.RenderTransform>
                            <ScaleTransform ScaleX="0.9" ScaleY="1.4" />
                        </Polygon.RenderTransform>
                    </Polygon>

                    <!-- Right angled shape covering the X -->
                    <Polygon Stroke="White" Fill="White" StrokeThickness="1" Points="150,50 250,50 220,100 120,100" Margin="150,70,0,0">
                        <Polygon.RenderTransform>
                            <ScaleTransform ScaleX="1" ScaleY="1.4" />
                        </Polygon.RenderTransform>
                    </Polygon>

                    <!-- Right angled shape below -->
                    <Polygon Stroke="White" Fill="Transparent" StrokeThickness="1" 
                             Points="174,140 246,140 238,180 167,180" 
                             Margin="21 160 0 0"
                             Visibility="Collapsed">
                        <Polygon.RenderTransform>
                            <ScaleTransform ScaleX="1.4" ScaleY="0.5"/>
                        </Polygon.RenderTransform>
                    </Polygon>

                    <!--X shape-->
                    <Grid Visibility="Collapsed" Margin="85 100 0 0">
                        <Line X1="215" Y1="40" X2="265" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="235" Y1="40" X2="285" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <!-- Right half of X (two lines) -->
                        <Line X1="265" Y1="40" X2="215" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="285" Y1="40" X2="235" Y2="110" Stroke="White" StrokeThickness="2"/>
                    </Grid>
                </Canvas>

            </Grid>
            <!-- END: TRACK DIAMOND CENTER UP USER CONTROL -->

            <!-- START -->
            <!--User controls available-->
            <!--Track Diamond Down-Up-->
            <!--Track Diamond Down-Down-->
            <Grid>
                <Canvas x:Name="TrackDiamondDownCanvas"  
                        Width="380" 
                        Height="400"
                        Visibility="{Binding DataContext.TrackDiamondDownControlsVisibility, ElementName=TrackUserControl}">
                    <!--Visibility="{Binding DataContext.TrackDiamondDownControlsVisibility, ElementName=TrackDiamondDirectionUserControl}">-->
                    <!--Control visibility of above mentioned controls-->
                    <!-- Polygons inside the Grid can be collapsed all together, matching the default view in UIC -->
                    <Grid x:Name="TrackDiamondDownGrid" Visibility="Collapsed">
                        <!-- First polygon on the left -->
                        <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
             Points="20,50 50,50 140,230 110,230" Margin="-83,0,0,0">
                            <Polygon.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                                <!-- Increase height -->
                            </Polygon.RenderTransform>
                        </Polygon>
                        <!-- Second polygon on the left -->
                        <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
             Points="20,50 50,50 140,230 110,230" Margin="-52,0,0,0">
                            <Polygon.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                                <!-- Increase height -->
                            </Polygon.RenderTransform>
                        </Polygon>
                        <!-- First polygon on the right -->
                        <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
             Points="20,50 50,50 140,230 110,230" Margin="72,0,0,0">
                            <Polygon.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                                <!-- Increase height -->
                            </Polygon.RenderTransform>
                        </Polygon>
                        <!-- Second polygon on the right -->
                        <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
             Points="20,50 50,50 140,230 110,230" Margin="103,0,0,0">
                            <Polygon.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                                <!-- Increase height -->
                            </Polygon.RenderTransform>
                        </Polygon>
                    </Grid>
                    <!-- Center Polygon resembling the TRACK -->
                    <Polygon Stroke="White" Fill="White" StrokeThickness="2"
         Points="0,50 90,50 180,230 90,230">
                        <Polygon.RenderTransform>
                            <ScaleTransform ScaleX="1" ScaleY="1"/>
                            <!-- Increase height -->
                        </Polygon.RenderTransform>
                    </Polygon>
                </Canvas>
            </Grid>
            <!-- END -->

            <!--START-->
            <!--User controls available-->
            <!--Track Diamond Up-Up-->
            <!--Track Diamond Up-Down-->
            <Grid Visibility="{Binding DataContext.TrackDiamondUpControlsVisibility, ElementName=TrackUserControl}">
                <Canvas x:Name="TrackDiamondUpCanvas"
                        Width="380"
                        Height="400"
                        >
                        <!--Visibility="{Binding DataContext.TrackDiamondUpControlsVisibility, ElementName=TrackDiamondDirectionUserControl}">-->
                    <!--Control visibility of above mentioned controls-->
                    <!-- Polygons inside the Grid can be collapsed all together, matching the default view in UIC -->
                    <Grid x:Name="TrackDiamondUpGrid" Visibility="Collapsed">
                        <!-- First polygon on the left -->
                        <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
            Points="160,50 190,50 110,230 80,230" Margin="-133 0 0 0">
                            <Polygon.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                                <!-- Increase height -->
                            </Polygon.RenderTransform>
                        </Polygon>
                        <!-- Second polygon on the left -->
                        <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
            Points="160,50 190,50 110,230 80,230" Margin="-102 0 0 0">
                            <Polygon.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                                <!-- Increase height -->
                            </Polygon.RenderTransform>
                        </Polygon>
                        <!-- Third polygon on the left -->
                        <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
            Points="160,50 190,50 110,230 80,230" Margin="32 0 0 0">
                            <Polygon.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                                <!-- Increase height -->
                            </Polygon.RenderTransform>
                        </Polygon>
                        <!-- Forth polygon on the left -->
                        <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
            Points="160,50 190,50 110,230 80,230" Margin="62 0 0 0">
                            <Polygon.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                                <!-- Increase height -->
                            </Polygon.RenderTransform>
                        </Polygon>
                    </Grid>
                    <!-- Center Polygon resembling the TRACK -->
                    <Polygon Stroke="White" Fill="White" StrokeThickness="2"
            Points="90,50 190,50 110,230 10,230">
                        <Polygon.RenderTransform>
                            <ScaleTransform ScaleX="1" ScaleY="1"/>
                            <!-- Increase height -->
                        </Polygon.RenderTransform>
                    </Polygon>
                </Canvas>
            </Grid>
            <!--END-->

            <!--START: Track Leg Left Up -->
            <Grid Margin="0 370 100 0" Visibility="{Binding DataContext.TrackLegLeftUpVisibility, ElementName=TrackUserControl}">
                <Canvas x:Name="TrackLegLeftUpCanvas1" Width="800" Height="400">  <!--CHANGE DONE HERE*********************************-->
                    <!--Elements under this canvas should be collpased to get the design to match the UIC default view-->
                    <Canvas x:Name="TrackLegLeftUpCanvas2" Visibility="Collapsed">
                        <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
                         Points="0,0 230,2 333,260 99,259">
                            <Polygon.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform ScaleX="1" ScaleY="1" />
                                    <TranslateTransform X="-195" Y="-81" />
                                </TransformGroup>
                            </Polygon.RenderTransform>
                        </Polygon>

                        <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
                        Points="0,0 45,1 155,290 110,290">
                            <Polygon.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform ScaleX="1" ScaleY="1" />
                                    <TranslateTransform X="-240" Y="-82" />
                                </TransformGroup>
                            </Polygon.RenderTransform>
                        </Polygon>

                        <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
                        Points="80,21 116,21 145,100 110,100">
                            <Polygon.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform ScaleX="1" ScaleY="1" />
                                    <TranslateTransform X="-43" Y="-100" />
                                </TransformGroup>
                            </Polygon.RenderTransform>
                        </Polygon>

                        <Rectangle Width="415" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent" 
                        Visibility="Visible" Margin="85 -29 0 0"/>

                        <Rectangle Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent" 
                        Visibility="Visible" Margin="0 1 0 0"/>

                        <Rectangle Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent" 
                        Visibility="Visible" Margin="0 149 0 0"/>

                        <Rectangle Width="620" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent" 
                        Visibility="Visible" Margin="-120 178 0 0"/>
                    </Canvas>

                    <!--Main Track with white color matching UIC default view-->
                    <Polygon Stroke="White" Fill="White" StrokeThickness="2"
                        Points="0,0 160,2 250,230 90,230">
                        <Polygon.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                <TranslateTransform X="-160" Y="-81" />
                            </TransformGroup>
                        </Polygon.RenderTransform>
                    </Polygon>

                    <!--Main Track with white color matching UIC default view-->
                    <Rectangle Width="500" Height="120" Stroke="White" StrokeThickness="2" Fill="White" 
                      Visibility="Visible" Margin="0 30 0 0"/>
                </Canvas>
            </Grid>
            <!--END: Track Leg Left Up -->

            <!--START: Track Leg Left Down -->
            <Grid Margin="0 100 500 0" Visibility="{Binding DataContext.TrackLegLeftDownVisibility, ElementName=TrackUserControl}">
                <Canvas x:Name="TrackLegLeftDownCanvas1" Width="100" Height="400">
                    <!--Elements under this canvas should be collpased to get the design to match the UIC default view-->
                    <Canvas x:Name="TrackLegLeftDownCanvas2"
                Visibility="Collapsed">
                        <Canvas>
                            <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
                    Points="190,-30 434,-28 325,230 90,230" Canvas.Left="-175" Canvas.Top="59"/>
                        </Canvas>

                        <Canvas>
                            <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
                    Points="183,150 219,150 187,230 148,230" Canvas.Left="1" Canvas.Top="59"/>
                        </Canvas>

                        <Canvas>
                            <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
                    Points="190,-57 234,-58 125,230 80,230" Canvas.Left="-210" Canvas.Top="59"/>
                        </Canvas>

                        <Rectangle Width="415" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent"
                       Margin="205,206,0,0"/>

                        <Rectangle Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent"
                       Margin="120,30,0,0"/>

                        <Rectangle Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent"
                       Margin="120,178,0,0"/>

                        <Rectangle Width="620" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent"
                       Margin="0,1,0,0"/>
                    </Canvas>

                    <!--Main Track with white color matching UIC default view-->
                    <Canvas>
                        <Polygon Stroke="White" Fill="White" StrokeThickness="2"
                        Points="180,0 345,2 250,230 90,230" Canvas.Left="-140" Canvas.Top="59"/>
                    </Canvas>

                    <!--Main Track with white color matching UIC default view-->
                    <Rectangle Width="500" Height="120" Stroke="White" StrokeThickness="2" Fill="White"
                   Margin="120,60,0,0"/>
                </Canvas>
            </Grid>
            <!--END: Track Leg Left Down -->

            <!--START: Track Leg Right Up -->
            <Grid Margin="0 100 500 0" Visibility="{Binding DataContext.TrackLegRightUpVisibility, ElementName=TrackUserControl}">
                <Canvas x:Name="TrackLegRightUpCanvas1" Width="100" Height="450">

                    <!--Elements under this canvas should be collpased to get the design to match the UIC default view-->
                    <Canvas x:Name="TrackLegRightUpCanvas2" Visibility="Collapsed">

                        <Canvas>
                            <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
            Points="204,-60 447,-58 328,230 90,230" Canvas.Left="395" Canvas.Top="-21"/>
                        </Canvas>

                        <Canvas>
                            <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
            Points="183,150 219,150 187,230 148,230" Canvas.Left="367" Canvas.Top="-200"/>
                        </Canvas>

                        <Canvas>
                            <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2"
            Points="211,-85 257,-85 125,230 80,230" Canvas.Left="632" Canvas.Top="6"/>
                        </Canvas>

                        <Rectangle Width="415" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent"
               Margin="120,1,0,0"/>

                        <Rectangle Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent"
               Margin="120,30,0,0"/>

                        <Rectangle Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent"
               Margin="120,178,0,0"/>

                        <Rectangle Width="620" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent"
               Margin="120,207,0,0"/>
                    </Canvas>

                    <!--Main Track with white color matching UIC default view-->
                    <Canvas>
                        <Polygon Stroke="White" Fill="White" StrokeThickness="2"
                Points="193,-29 355,-27 250,230 90,230" Canvas.Left="447" Canvas.Top="-51"/>
                    </Canvas>

                    <!--Main Track with white color matching UIC default view-->
                    <Rectangle Width="500" Height="120" Stroke="White" StrokeThickness="2" Fill="White"
           Margin="120,60,0,0"/>
                </Canvas>
            </Grid>
            <!--END: Track Leg Right Up -->

            <!--START: Track Leg Right Down-->
            <Grid Margin="0 100 500 0" Visibility="{Binding DataContext.TrackLegRightDownVisibility, ElementName=TrackUserControl}">
                <Canvas x:Name="TrackLegRightDownCanvas1" Width="100" Height="450">

                    <!--Elements under this canvas should be collpased to get the design to match the UIC default view-->
                    <Canvas x:Name="TrackLegRightDownCanvas2" Visibility="Collapsed">
                        <Canvas>
                            <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2" Points="172,120 212,120 250,230 211,230" Canvas.Left="343" Canvas.Top="89"/>
                        </Canvas>

                        <Canvas>
                            <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2" Points="1,-29 229,-27 339,260 100,260" Canvas.Left="495" Canvas.Top="59"/>
                        </Canvas>

                        <Canvas>
                            <Polygon Stroke="White" Fill="Transparent" StrokeThickness="2" Points="87,-88 138,-87 255,230 211,230" Canvas.Left="624" Canvas.Top="89"/>
                        </Canvas>

                        <Rectangle Width="415" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent" Margin="120,207,0,0"/>

                        <Rectangle Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent" Margin="120,30,0,0"/>

                        <Rectangle Width="500" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent" Margin="120,178,0,0"/>

                        <Rectangle Width="620" Height="30" Stroke="White" StrokeThickness="2" Fill="Transparent" Margin="120,1,0,0"/>
                    </Canvas>

                    <!--Main Track with white color matching UIC default view-->
                    <Canvas>
                        <Polygon Stroke="White" Fill="White" StrokeThickness="2" Points="1,-28 155,-28 250,230 90,230" Canvas.Left="543" Canvas.Top="89"/>
                    </Canvas>

                    <!--Main Track with white color matching UIC default view-->
                    <Rectangle Width="500" Height="120" Stroke="White" StrokeThickness="2" Fill="White" Margin="120,60,0,0"/>
                </Canvas>
            </Grid>
            <!--END: Track Leg Right Down-->

            <!--START: Track Berth Down No Overlap-->
            <Grid Visibility="{Binding DataContext.TrackBerthDownNoOverlapVisibility, ElementName=TrackUserControl}">
                <Rectangle Width="250" Height="70" Stroke="White" StrokeThickness="2" Fill="Transparent" VerticalAlignment="Top" Margin="230,50,0,0" Visibility="Collapsed"/>
                <Canvas Width="50" Height="550" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,120,300,0">
                    <!-- Outer rectangle -->
                    <Rectangle Width="500" Height="150" Stroke="White" StrokeThickness="2" Fill="White" Visibility="Visible"/>
                    <!-- Horizontal lines for the rows -->
                    <Grid Visibility="Visible">
                        <Line X1="0" Y1="20" X2="500" Y2="20" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="40" X2="500" Y2="40" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="110" X2="500" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="130" X2="500" Y2="130" Stroke="White" StrokeThickness="2"/>
                    </Grid>
                    <!-- 'X' in the middle -->
                    <!-- Left half of X (two lines) -->
                    <Grid Visibility="Collapsed">
                        <Line X1="215" Y1="40" X2="265" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="235" Y1="40" X2="285" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <!-- Right half of X (two lines) -->
                        <Line X1="265" Y1="40" X2="215" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="285" Y1="40" X2="235" Y2="110" Stroke="White" StrokeThickness="2"/>
                    </Grid>
                    <!-- Bottom section with arrows and rectangles -->
                    <!-- Use fixed column widths to ensure alignment -->
                    <Grid VerticalAlignment="Bottom" Margin="0,150,0,30" Height="100" Width="700" Visibility="Visible">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <!-- Left arrow width -->
                            <ColumnDefinition Width="280"/>
                            <!-- Space for two rectangles -->
                            <ColumnDefinition/>
                            <!-- Right arrow width -->
                        </Grid.ColumnDefinitions>

                        <!-- Left Arrow -->
                        <Polygon Fill="Transparent" Stroke="White" StrokeThickness="2"
         Points="60,90 0,45 60,0"
         HorizontalAlignment="Left" VerticalAlignment="Center" Visibility="Collapsed"/>

                        <StackPanel Visibility="Collapsed" Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="0 0 0 0">
                            <Rectangle Width="50" Height="30" Stroke="White" Fill="Transparent"/>
                        </StackPanel>

                        <StackPanel Visibility="Collapsed" Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" Margin = "40 2 0 0">
                            <Rectangle Width="50" Height="30" Stroke="White" Fill="Transparent" Margin ="10"/>
                        </StackPanel>

                        <!-- Right Arrow -->
                        <Polygon Fill="Transparent" Stroke="White" StrokeThickness="2"
         Points="0,0 60,45 0,90"
         Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="100 0 0 0" Visibility="Collapsed"/>
                    </Grid>
                </Canvas>
            </Grid>
            <!--END: Track Berth Down No Overlap-->

            <!--START: Track Berth Down No Route-->
            <Grid Visibility="{Binding DataContext.TrackBerthDownNoRouteVisibility, ElementName=TrackUserControl}">
                <Rectangle Width="250" Height="70" Stroke="White" StrokeThickness="2" Fill="Transparent" VerticalAlignment="Top" Margin="230,50,0,0" Visibility="Collapsed"/>
                <Canvas Width="50" Height="550" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,120,300,0">
                    <!-- Outer rectangle -->
                    <Rectangle Width="500" Height="150" Stroke="White" StrokeThickness="2" Fill="White" Visibility="Visible"/>
                    <!-- Horizontal lines for the rows -->
                    <Grid Visibility="Visible">
                        <Line X1="0" Y1="20" X2="500" Y2="20" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="40" X2="500" Y2="40" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="110" X2="500" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="130" X2="500" Y2="130" Stroke="White" StrokeThickness="2"/>
                    </Grid>
                    <!-- 'X' in the middle -->
                    <!-- Left half of X (two lines) -->
                    <Grid Visibility="Collapsed">
                        <Line X1="215" Y1="40" X2="265" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="235" Y1="40" X2="285" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <!-- Right half of X (two lines) -->
                        <Line X1="265" Y1="40" X2="215" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="285" Y1="40" X2="235" Y2="110" Stroke="White" StrokeThickness="2"/>
                    </Grid>
                    <!-- Bottom section with arrows and rectangles -->
                    <!-- Use fixed column widths to ensure alignment -->
                    <Grid VerticalAlignment="Bottom" Margin="0,150,0,30" Height="100" Width="700" Visibility="Visible">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <!-- Left arrow width -->
                            <ColumnDefinition Width="280"/>
                            <!-- Space for two rectangles -->
                            <ColumnDefinition/>
                            <!-- Right arrow width -->
                        </Grid.ColumnDefinitions>

                        <!-- Left Arrow -->
                        <Polygon Fill="Transparent" Stroke="White" StrokeThickness="2"
         Points="60,90 0,45 60,0"
         HorizontalAlignment="Left" VerticalAlignment="Center" Visibility="Collapsed"/>

                        <StackPanel Visibility="Collapsed" Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="0 0 0 0">
                            <Rectangle Width="50" Height="30" Stroke="White" Fill="Transparent"/>
                        </StackPanel>

                        <StackPanel Visibility="Collapsed" Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" Margin = "40 2 0 0">
                            <Rectangle Width="50" Height="30" Stroke="White" Fill="Transparent" Margin ="10"/>
                        </StackPanel>

                        <!-- Right Arrow -->
                        <Polygon Fill="Transparent" Stroke="White" StrokeThickness="2"
         Points="0,0 60,45 0,90"
         Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="100 0 0 0" Visibility="Collapsed"/>
                    </Grid>
                </Canvas>
            </Grid>
            <!--END: Track Berth Down No Route-->

            <!--START: Track Berth Up No Overlap-->
            <Grid Visibility="{Binding DataContext.TrackBerthUpNoOverlapVisibility, ElementName=TrackUserControl}">
                <Canvas Width="50" Height="550" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,120,300,0">
                    <!-- Outer rectangle -->
                    <Rectangle Width="500" Height="150" Stroke="White" StrokeThickness="2" Fill="White" Visibility="Visible"/>
                    <!-- Horizontal lines for the rows -->
                    <Grid Visibility="Visible">
                        <Line X1="0" Y1="20" X2="500" Y2="20" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="40" X2="500" Y2="40" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="110" X2="500" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="0" Y1="130" X2="500" Y2="130" Stroke="White" StrokeThickness="2"/>
                    </Grid>
                    <!-- 'X' in the middle -->
                    <!-- Left half of X (two lines) -->
                    <Grid Visibility="Collapsed">
                        <Line X1="215" Y1="40" X2="265" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="235" Y1="40" X2="285" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <!-- Right half of X (two lines) -->
                        <Line X1="265" Y1="40" X2="215" Y2="110" Stroke="White" StrokeThickness="2"/>
                        <Line X1="285" Y1="40" X2="235" Y2="110" Stroke="White" StrokeThickness="2"/>
                    </Grid>
                    <!-- Bottom section with arrows and rectangles -->
                    <!-- Use fixed column widths to ensure alignment -->
                    <Grid VerticalAlignment="Bottom" Margin="0,150,0,30" Height="100" Width="700" Visibility="Visible">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <!-- Left arrow width -->
                            <ColumnDefinition Width="280"/>
                            <!-- Space for two rectangles -->
                            <ColumnDefinition/>
                            <!-- Right arrow width -->
                        </Grid.ColumnDefinitions>

                        <!-- Left Arrow -->
                        <Canvas Visibility="Collapsed">
                            <Polygon Fill="Transparent" Stroke="White" StrokeThickness="2"
                                     Points="60,90 0,45 60,0"
                                     HorizontalAlignment="Left" 
                                     VerticalAlignment="Center"
                                     Canvas.Top="-245"/>

                            <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="60 -215 0 0">
                                <Rectangle Width="50" Height="30" Stroke="White" Fill="Transparent"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" Margin = "380 -225 0 0">
                                <Rectangle Width="50" Height="30" Stroke="White" Fill="Transparent" Margin ="10"/>
                            </StackPanel>

                            <!-- Right Arrow -->
                            <Polygon Fill="Transparent" Stroke="White" StrokeThickness="2" Points="0,0 60,45 0,90"
                                     Grid.Column="2" 
                                     HorizontalAlignment="Left" 
                                     VerticalAlignment="Center"
                                     Canvas.Top="-245"
                                     Canvas.Left="340"
                                     Margin="100 0 0 0"/>
                        </Canvas>
                    </Grid>
                    <Rectangle Width="250" Height="70" Stroke="White" StrokeThickness="2" Fill="Transparent" VerticalAlignment="bottom" Margin="125,149,0,0" Visibility="Collapsed"/>
                </Canvas>
            </Grid>
            <!--END: Track Berth Up No Overlap-->
        </Grid>
    </Viewbox>
</UserControl>
